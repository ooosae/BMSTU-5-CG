\usepackage{fontspec}
\setmainfont{Times New Roman}

\usepackage{polyglossia}
\setdefaultlanguage{russian}
\setotherlanguage{english}

\usepackage{cmap}
\usepackage{enumitem}
\usepackage{soul}
\usepackage{ulem}
\usepackage{float}
\usepackage{amssymb}
\usepackage[justification=centering]{caption}
\usepackage[group-separator={,}]{siunitx}
\usepackage{pdfpages}
\usepackage{amsmath}
\usepackage{listings}
\usepackage{xcolor}

\newcommand{\specialcell}[2][c]{%
	\begin{tabular}[#1]{@{}c@{}}#2\end{tabular}}

\usepackage{caption}
\captionsetup{labelsep=endash}
\captionsetup[figure]{name={Рисунок}}

\usepackage{geometry}
\geometry{left=30mm, right=10mm, top=20mm, bottom=20mm}

\usepackage{titlesec}
\titleformat{\section}
{\normalsize\bfseries}
{\thesection}
{1em}{}
\titlespacing*{\chapter}{0pt}{-30pt}{8pt}
\titlespacing*{\section}{\parindent}{*4}{*4}
\titlespacing*{\subsection}{\parindent}{*4}{*4}

\usepackage{setspace}
\onehalfspacing

\frenchspacing
\usepackage{indentfirst}

\titleformat{\chapter}{\LARGE\bfseries}{\thechapter}{20pt}{\LARGE\bfseries}
\titleformat{\section}{\Large\bfseries}{\thesection}{20pt}{\Large\bfseries}

\lstset{ %
	language=[Sharp]C,
	basicstyle=\ttfamily\footnotesize,
	keywordstyle=\color{blue}\bfseries,
	commentstyle=\color{gray}\itshape,
	stringstyle=\color{red},
	numberstyle=\tiny\color{gray},
	stepnumber=1,
	numbersep=10pt,
	showspaces=false,
	showstringspaces=false,
	showtabs=false,
	frame=single,
	tabsize=2,
	breaklines=true,
	breakatwhitespace=false,
	morekeywords={partial, var, yield, get, set, async, await},
	captionpos=b,
	caption={Листинг}
}

\renewcommand{\lstlistingname}{Листинг}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usetikzlibrary{datavisualization}
\usetikzlibrary{datavisualization.formats.functions}

\usepackage{graphicx}
\newcommand{\img}[3] {
	\begin{figure}[h!]
		\center{\includegraphics[height=#1]{assets/img/#2}}
		\caption{#3}
		\label{img:#2}
	\end{figure}
}
\newcommand{\boximg}[3] {
	\begin{figure}[h]
		\center{\fbox{\includegraphics[height=#1]{assets/img/#2}}}
		\caption{#3}
		\label{img:#2}
	\end{figure}
}

\usepackage[singlelinecheck=false]{caption}

\usepackage{hyperref}
\hypersetup{hidelinks}

\usepackage{csvsimple}

\makeatletter
\def\@biblabel#1{#1. }
\makeatother

\newcommand{\code}[1]{\texttt{#1}}

\captionsrussian{\def\bibname{Список использованных источников}}
\captionsrussian{\def\contentsname{Содержание}}
\renewcommand{\figurename}{Рисунок}
\renewcommand{\tablename}{Таблица}
\renewcommand{\refname}{Список использованных источников}
\renewcommand{\listfigurename}{Список рисунков}
\renewcommand{\listtablename}{Список таблиц}
\renewcommand{\lstlistlistingname}{Список листингов}

\usepackage{etoolbox}
\makeatletter
\patchcmd{\@lbibitem}{\hyperpage}{с.~\hyperpage}{}{}
\patchcmd{\@lbibitem}{p\@}{с.}{}{}
\makeatother
